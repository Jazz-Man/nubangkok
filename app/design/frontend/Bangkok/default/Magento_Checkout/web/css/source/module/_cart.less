// /**
//  * Copyright Â© Magento, Inc. All rights reserved.
//  * See COPYING.txt for license details.
//  */

//
//  Common
//  _____________________________________________

& when (@media-common = true) {

  //
  //  Shopping cart
  //  ---------------------------------------------
  .totals.redeem.excl {
    text-transform: uppercase;
    margin-top: 20px;
    width: 125%;
    margin-bottom: 20px;
    .mark {
      width: 30%;
      display: inline-block;
    }
    .mark-label {
      width: 15%;
      display: inline-block;
    }
    input.redeem-nupoints {
      width: 30%;
      margin-left: 2%;
    }
    .input {
      display: inline-block;
      width: 12%;
      padding-bottom: 5px;
    }
    .btn {
      width: 90px;
      display: inline-block;
      margin-left: 2%;
      button {
        width: 100%;
        border: 1px solid #aeaeae;
        text-transform: uppercase;
        background-color: transparent;
        padding: 10px;
      }
    }
    .amount {
      display: inline-block;
      float: right;
      padding-top: 5px;
    }
  }
  // Page Heading
  .page-heading {
    font-size: 27px;
    text-transform: uppercase;
    text-align: center;
    margin-bottom: 0;
    padding-bottom: 15px;
    font-weight: 400;
    border-bottom: 2px solid @color-gray62;
  }
  //  Summary block
  .cart-summary {
    &:extend(.abs-add-box-sizing all);
    margin-bottom: @indent__m;
    padding: 0;
    > .title {
      display: block;
      .lib-heading(h3);
    }

    .block {
      &:extend(.abs-discount-block all);
      margin-bottom: 0;

      .item-options {
        margin-left: 0;
      }

      .fieldset {
        margin: 15px 0 @indent__m @indent__xs;

        .field {
          margin: 0 0 @indent__s;

          &.note {
            font-size: @font-size__s;
          }
        }

        .methods {
          .field {
            > .label {
              display: inline;
            }
          }
        }
      }

      .fieldset.estimate {
        > .legend,
        > .legend + br {
          &:extend(.abs-no-display all);
        }
      }
    }
    .actions-toolbar {
      > .primary {
        button {
          &:extend(.abs-revert-secondary-color all);
        }
      }
    }
    &:extend(.abs-adjustment-incl-excl-tax all);
  }

  //  Totals block
  .cart-totals {
    border-top: none;
    padding-top: @indent__s;
    &:extend(.abs-sidebar-totals all);

    .table-wrapper {
      margin-bottom: 0;
      overflow: inherit;
      .totals.sub {
        th {
          text-align: right;
        }
        td {
          width: 20%;
        }
      }
      .totals {
        .mark {
          text-transform: uppercase;
        }
      }
    }
  }
  //  Products table
  .cart.table-wrapper {
    .items {
      thead + .item {
        border-top: @border-width__base solid @border-color__base;
      }

      > .item {
        border-bottom: 1px solid #55463e;
        position: relative;
      }
    }

    .col {
      //padding-top: @indent__base;

      &.qty {
        .input-text {
          margin-top: -5px;
          &:extend(.abs-input-qty all);
          height: 32px;
          border: 1px solid #d9d2cb;
        }

        .label {
          &:extend(.abs-visually-hidden all);
        }
      }
    }

    .item {
      &-actions td {
        padding-bottom: @indent__s;
        text-align: center;
        white-space: normal;
      }

      .col {
        &.item {
          display: block;
          min-height: 75px;
          padding: @indent__m 0 @indent__s 75px;
          position: relative;
        }
      }
    }

    .actions-toolbar {
      &:extend(.abs-add-clearfix all);

      > .action {
        &:extend(button all);
        .lib-link-as-button();
        margin-bottom: @indent__s;
        margin-right: @indent__s;

        &.action-delete {
          position: absolute;
          bottom: 0;
          right: 12%;
          border: none;
          background-color: transparent;
          content: @icon-basket-remove;
          height: 27px;
          background-size: cover;
          padding: 0;
        }
      }
    }

    .action {
      &.help.map {
        &:extend(.abs-action-button-as-link all);
        font-weight: @font-weight__regular;
      }
    }

    .product {
      &-item-photo {

      }

      &-item-details {
        white-space: normal;
      }

      &-item-name {
        display: inline-block;
        font-weight: @font-weight__regular;
        margin-top: -6px;
      }
    }

    .gift-registry-name-label {
      &:after {
        content: ':';
      }
    }

    //  Product options
    .item-options {

      font-size: 14px;
      dt {
        font-weight: 400 !important;
        margin: 0 10px 10px 0;
      }
      &:extend(.abs-product-options-list all);
      &:extend(.abs-add-clearfix all);
    }

    .product-item-name + .item-options {
      margin-top: @indent__s;
      line-height: 30px;
      .color-value {
        display: inline-block;
      }
      .label {
        float: left;
        &:after {
          content: ':';
        }
      }
      .options-value .rgb {
        display: inline-block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        float: none;
        border: 2px solid @color-active-bgk;
      }
      .field.qty {
        float: left;
        width: 60%;
        min-width: 100px;
        display: inline-block;
      }
      div:last-of-type {

        &:after {

        }
      }
      .option-color {
        width: 100%;
        display: inline-block;
        .options-value {
          width: 50%;
        }
      }
      .option-size {
        > div:last-of-type {
          width: 30%;
          display: inline-block;
          float: right;
          min-width: 80px;
        }
      }
    }

    .product-image-wrapper {
      &:extend(.abs-reset-image-wrapper all);
    }

    .action.configure {
      display: inline-block;
      margin: 0 0 @indent__base;
    }
  }

  .cart-container {
    .grand.totals {
      border-bottom: 2px solid #e8e8e8;
    }
    .form-cart {
      &:extend(.abs-shopping-cart-items all);
    }

    .checkout-methods-items {
      &:extend(.abs-reset-list all);
      margin-top: @indent__base;
      text-align: center;

      .action.primary {
        &:extend(.abs-button-l all);
        width: 100%;
      }
      .action.primary.checkout {
        max-width: 300px;
        background-color: #706258;
        border: 1px solid #706258;
        text-transform: uppercase;
        padding: 10px 17px;
        font-size: 1.4rem;
        &:hover {
          background-color: #372820;
        }
      }

      .item {
        & + .item {
          margin-top: @indent__base;
        }
      }
    }
  }

  //  Products pager
  .cart-products-toolbar {
    .toolbar-amount {
      margin: @indent__m 0 15px;
      padding: 0;
      text-align: center;
    }

    .pages {
      margin: 0 0 @indent__m;
      text-align: center;

      .items {
        > .item {
          border-bottom: 0;
        }
      }
    }
  }

  .cart-products-toolbar-top {
    border-bottom: @border-width__base solid @border-color__base;
  }

  //
  //  Cross sell
  //  ---------------------------------------------

  .block.crosssell {
    margin-top: 70px;
  }

  .cart-tax-info,
  .cart .cart-tax-info {
    + .cart-tax-total {
      display: block;
    }
  }

  .cart.table-wrapper,
  .order-items.table-wrapper {
    .col.price {
      display: none;
    }
    .col.qty,
    .col.subtotal,
    .col.msrp {
      text-align: right;
      position: relative;
    }
    .col.qty {
      display: inline-block;
      width: 100px;
    }
    .col.qty span,
    .col.subtotal span {
      font-size: 14px;
      font-weight: 400;
    }
    .cart-price {
      position: absolute;
      top: -32px;
      right: 0;
    }

    .control.qty {
      text-align: left;
      .qty-reduce {
        position: relative;
        width: 18px;
        height: 16px;
        display: inline-table;
        color: black;
        border: 1px solid #d9d2cb;
        vertical-align: middle;
        cursor: pointer;
        span {
          position: absolute;
          left: 7px;
          top: -8px;
        }
      }
      .qty-enhance {
        position: relative;
        width: 18px;
        height: 16px;
        display: inline-table;
        color: black;
        border: 1px solid #d9d2cb;
        vertical-align: middle;
        cursor: pointer;
        span {
          position: absolute;
          left: 5px;
          top: -6px;
        }
      }
    }
  }
  //
  // success page
  //
  .checkout-success {
    h2 {
      text-align: center;
    }
    .top-block-success {
      .order-number {
        font-weight: 700;
        color: @color-gray19;
        margin-bottom: 10px;
      }
      .bank-transfer-info {
        margin-top: 10px;
        font-weight: 700;
        color: #303030;
      }
      > p {
        color: @color-gray55;
        margin-bottom: 0;
      }
    }
    .bottom-block-success {
      margin-top: 50px;
      > p {
        color: @color-gray55;
        margin-bottom: 0;
      }
      p:first-of-type {
        color: @color-gray19;
        font-weight: 700;
        margin-bottom: 10px;
      }
      p:nth-child(2) {
        color: @color-gray19;
      }
      p:nth-child(4) {
        text-transform: capitalize;
      }
      span {
        text-transform: capitalize;
      }
    }
  }
  .cart.table-wrapper .product-item-details {
    .item-options {
      .option-color {
        .rgb {
          width: 10px;
          height: 10px;
          border-radius: 50%;
          display: inline-block;
          border: 2px solid #d9d2cb;
        }
      }
    }
  }
}

//
//  Mobile
//  _____________________________________________

.media-width(@extremum, @break) when (@extremum = 'max') and (@break = @screen__m) {
  .cart-container {
    &:extend(.abs-add-clearfix-desktop all);
    .form-cart {

    }

    .widget {

    }
    .action.update {

    }
    .page-heading {
      font-size: 18px;
    }
    .cart-summary {
      margin-bottom: 15px;
    }

    .checkout-methods-items .action.primary.checkout {
      width: 100%;
      max-width: none;
    }
    .cart .action.continue {
      //width: 99%;
      max-width: none;
    }
  }

  .cart.item {
    .item-actions {

    }
  }

  .cart-summary {
    font-size: 11px;
    .actions-toolbar {
      .column.main & {
        &:extend(.abs-reset-left-margin-desktop all);
        > .secondary {

        }
      }
    }

    .block {
      .fieldset {
        .field {
          .lib-form-field-type-revert(@_type: block);

        }
      }
    }
    .fieldset.coupon {
      .field {
        line-height: 43px;
        min-width: 200px;
        .label {

        }
        &:not(.choice) > .control {
          float: right;

          input {
            width: 100%;
            font-size: 13px;
          }
        }
      }
      .actions-toolbar {
        margin-top: 0;
        //width: 70px;
        float: right;
        .primary {
          .action.apply.primary {
            font-size: 14px;
            padding: 10px;
            margin-left: 21px;
          }
        }
      }
    }
  }

  .cart {
    &.table-wrapper {
      .items { // Google Chrome version 44.0.2403.107 m fix

      }
      .item {
        .col {
          &.item {

          }
        }

        &-actions {
          margin-top: 0;
          td {

          }
        }

      }

      .product {
        &-item-photo {
          .product-image-container {
            width: 100px !important;
            .product-image-wrapper {
              .image-block {
                width: 100px;
                height: 100px;
                .product-image-photo {
                  width: 100px;
                  //margin: -3px 0 0 0;
                }
                .product-note-info {
                  top: 4px;
                  left: 5px;
                  font-size: 14px;
                }
                .product-note-status {
                  font-size: 14px;
                  bottom: 8px;
                  right: 0;
                }
                .popular-products {
                  font-size: 14px;
                  bottom: 10px;
                  padding: 2px 2px;
                }
              }
            }
          }
        }

        &-item-details {
          margin-left: 2%;
          .product-item-name {
            font-size: 12px;
            width: 100%;
            div.item-options {
              margin-top: 0;
              font-size: 13px;
              dt, dd {
                margin: 0 5px 0 0 !important;
              }
            }
          }
        }
      }

      .item-actions {
        .actions-toolbar {

          &:extend(.abs-reset-left-margin-desktop all);
          .action-towishlist {
            //margin-left: 26%;
            margin-left: 11%;
            background-color: @color-brown;
            color: @color-white;
            border: none;
          }
        }
      }
    }

    .action {

    }
    .action.continue {

    }
  }

  //  Products pager
  .cart-products-toolbar {
    .toolbar-amount {

    }

    .pages {

      .item {
        &:last-child {

        }
      }
    }
  }

  .cart.table-wrapper {
    .cart-products-toolbar {
      + .cart {
        thead {
          tr {
            th.col {

            }
          }
        }
      }
    }

    .cart {
      + .cart-products-toolbar {

      }
    }
  }
  .cart.table-wrapper,
  .order-items.table-wrapper {
    .col.price,
    .col.qty,
    .col.subtotal,
    .col.msrp {
      padding-top: 0;
      padding-left: 0;
      padding-right: 0;
    }
    .col.price span,
    .col.qty span,
    .col.subtotal span {
      font-size: 12px;
      font-weight: 400;
    }
    .col.qty {
      input {
        width: 30px;
        font-size: 13px;
      }
    }
  }

  .cart.table-wrapper {
    .control.qty {
      .qty-reduce {
        span {
          left: 6px;
          top: -5px;
          font-size: 20px;
        }
      }
      .qty-enhance {
        span {
          left: 3px;
          top: -3px;
          font-size: 20px;
        }
      }
    }
    .items {
      thead + .item {
      }

      > .item {

      }
    }

    .col {

      &.qty {
        .input-text {

        }

        .label {

        }
      }
    }

    .item {
      &-actions td {

      }

      .col {
        &.item {
          min-height: 70px;
          .product-item-details {
            margin-top: -7px;
            .col.qty .label {
              height: 27px;
              margin-top: 1px;
            }
          }
        }
      }
    }

    .actions-toolbar {
      &:extend(.abs-add-clearfix all);

      > .action {

        &.action-delete {

          span {
          }
        }
      }
    }

    .action {
      &.help.map {

      }
    }

    .product {
      &-item-photo {

      }

      &-item-details {

      }

      &-item-name {

      }
    }

    .gift-registry-name-label {
      &:after {

      }
    }

    //  Product options
    .item-options {
      font-size: 12px !important;
      line-height: 21px !important;
      margin-top: 0 !important;
      dt {
        margin: 0 5px 0 0;
      }
    }

    .product-item-name + .item-options {

    }

    .product-image-wrapper {
      &:extend(.abs-reset-image-wrapper all);
      .image-block {
        margin-bottom: 0;
      }
    }

    .action.configure {

    }
  }
  .fieldset.coupon.applied {
    .actions-toolbar {
      .primary {
        width: 80%;
        max-width: 120px;
        margin: 0;
        .action.cancel.primary {
          font-size: 10px;
          width: 100%;
          padding: 8px 0;
        }
      }
    }
  }
  .fieldset.coupon {
    .actions-toolbar {
      .primary {
        width: 100%;
        margin: 0;
      }
    }
  }
  .cart-summary .cart-totals {
    .data.table.totals {
      tr {
        th {
          font-size: 14px;
        }
        td {
          span {
            font-size: 14px;
          }
        }
      }
      .totals.redeem.excl {
        font-size: 14px;
        div.amount {
          overflow: hidden;
          width: 58px;
          padding-right: 0;
          display: inline-grid;
          padding-top: 0;
        }
        .btn {
          button {
            font-size: 14px;
          }
        }
        .input{
          width: max-content;
          padding-right: 5px;
          span{
            padding-left: 4px;
          }
        }
        .mark{
          width: 100%;
          margin-bottom: 10px;
          display: block;
        }
        input.redeem-nupoints{
          margin-top: 15px;
          width: 50%;
          margin-left: 0;
        }
        .btn {
          margin-left: 3px;
        }
      }
    }
  }

  .block.discount {
    .applied {
      span {
        font-size: 14px;
      }
    }
  }
}

.media-width(@extremum, @break) when (@extremum = 'max') and (@break = @screen__s){
  .cart.table-wrapper {
    .item-actions .actions-toolbar .action-towishlist {
      margin-left: 10% !important;
    }
    .cart-price {
      top: -47px;
    }
    .item .col.item .product-item-details {
      width: 58%;
    }
  }
  .cart-container .action.update {
    padding: 5px 8px;
    font-size: 13px;
  }
}

.media-width(@extremum, @break) when (@extremum = 'max') and (@break = @screen__xs){
  .cart.table-wrapper .actions-toolbar > .action.action-delete {
    right: 5%;
  }
  .cart.table-wrapper .item-actions .actions-toolbar .action-towishlist {
    font-size: 10px;
    padding: 4px 4px;
  }
  .cart.table-wrapper {
    .product-item-name + .item-options .option-size > div:last-of-type {
      min-width: 55px;
    }
    .col.qty {
      .field.qty {
        .control.qty {
          .qty-reduce {
            height: 15px;
            width: 15px;
            margin-bottom: 4px;
            span {
              left: 4px;
              top: -5px;
              font-size: 25px;
            }
          }
          .qty-enhance {
            height: 15px;
            width: 15px;
            margin-bottom: 4px;
            span {
              left: 0;
              top: -2px;
              font-size: 25px;

            }
          }
          .qty {
            height: 24px;
            width: 34px;
            font-size: 14px;
            padding: 0;
          }
        }
      }
    }
  }
  .cart.table-wrapper .product-item-details .col.qty {
    width: 133px;
  }
  .fieldset.coupon.applied {
    .actions-toolbar {
      .primary {
        .action.cancel.primary {
          padding: 1px;
        }
      }
    }
  }
  .cart.table-wrapper .item .col.item .product-item-details {
    width: 55% !important;
    margin-left: 1%;
    .item-options {
      .option-color {
        width: 100%;
        .options-value {
          display: inline-block;
          float: left;
        }
        .rgb {
          width: 10px;
          height: 10px;
          border-radius: 50%;
          display: inline-block;
          border: 2px solid #d9d2cb;
        }
      }
    }
  }
  .totals.redeem.excl {
    .btn {
      width: 65px;
      margin-left: 0;
      margin-right: 5px;
      button {
        padding: 10px 0;
      }
    }
  }
  .cart-summary .fieldset.coupon .actions-toolbar .primary .action.apply.primary{
    margin-left: 5px !important;
  }
}

//
//  Desktop
//  _____________________________________________

& when (@media-common = true) {
  .cart-container {
    .cart.item {
      border-bottom: 2px solid @color-gray62;
    }
    &:extend(.abs-add-clearfix-desktop all);
    .form-cart {
      //&:extend(.abs-shopping-cart-items-desktop all);
      width: 100%;
      .cart {
        .product-item-name {
          width: 100%;
        }
      }
    }

    .widget {
      float: left;
    }
    .action.update {
      display: block;
      border: 2px solid #aeaeae;
      font-size: 14px;
      text-transform: uppercase;
      border-radius: 3px;
      padding: 10px 20px;
      text-align: center;
      float: right;
      background: transparent;
    }
  }

  .cart.item {
    .item-actions {

    }
  }

  .cart-summary {
    .actions-toolbar {
      .column.main & {
        &:extend(.abs-reset-left-margin-desktop all);
        > .secondary {
          float: none;
        }
      }
    }

    .block {
      .fieldset {
        .field {
          .lib-form-field-type-revert(@_type: block);
          margin: 0 0 @indent__s;
        }
      }
    }
    .fieldset.coupon {
      .field {
        display: inline-block;
        width: 60%;
        float: left;
        margin-top: 5px;
        .label {
          width: 50%;
          text-transform: uppercase;
        }
        .control input {
          border-color: @color-gray91;
        }
        &:not(.choice) > .control {
          display: inline-block;
          width: 50% !important;
          float: right;
        }
      }
      .actions-toolbar {
        display: inline-block;
        //width: 100px;
        margin-top: 6px;
        margin-right: 5px;
        .primary {
          .action.apply.primary {
            display: block;
            border: 1px solid #aeaeae;
            margin: 0 auto;
            font-size: 14px;
            text-transform: uppercase;
            border-radius: 3px;
            text-align: center;
            margin-left: 20px;
            width: 90px;
            background-color: transparent;
          }
        }
      }
    }
  }

  .cart {
    &.table-wrapper {
      .items { // Google Chrome version 44.0.2403.107 m fix
        min-width: 100%;
        width: auto;
      }

      .item {
        .col {
          &.item {
            padding: 10px 0 0;
          }
        }

        &-actions {
          //height: 5px;
          margin-top: 25px;
          td {
            text-align: right;
            padding: 0;
          }
        }

      }

      .product {
        &-item-photo {
          display: inline-block;
          position: initial;
          border: 1px solid @color-active-bgk;
          float: left;
          margin-bottom: 12px;
          .product-image-container {
            .product-image-wrapper {
              .image-block {
                width: 150px;
                height: 150px;
                overflow: hidden;
                margin-bottom: 0;
                .product-image-photo {
                  width: 200px;
                  //margin: -5px 0 0 0px;
                  position: relative;
                  max-height: 218px;
                }
                .product-note-info {
                  position: absolute;
                  top: 10px;
                  left: 5px;
                  color: red;
                }
                .product-note-status {
                  position: absolute;
                  bottom: 12px;
                  transform: rotate(-45deg);
                  right: 5px;
                }
                .popular-products {
                  position: absolute;
                  bottom: 25px;
                  padding: 5px 5px;
                  background-color: gainsboro;
                  border-radius: 3px;
                  opacity: 0.7;
                  text-transform: uppercase;
                  right: 10px;
                }
              }
            }
          }
        }
        &-item-details {
          display: inline-block;
          width: 55%;
          margin-left: 8%;
          float: left;
          .col.qty {
            display: inline-block;
            float: left;
            width: 170px;
            .label {
              display: inline-block;
              height: 30px;
              width: 30px;
              position: inherit;
              padding-right: 5px;
              text-align: left;
            }
          }
          .product-item-name {
            dl.item-options {
              font-size: 13px;
              dt, dd {
                font-weight: 400 !important;
              }
            }
          }
          .item-options {
            .option-color {
              .options-value {
                display: inline-block;
                text-transform: lowercase;
                padding-left: 4px;
              }
              .rgb {
                width: 10px;
                height: 10px;
                display: inline-table;
                vertical-align: middle;
                border-radius: 50%;
              }
            }
          }
        }
      }

      .item-actions {
        .actions-toolbar {
          text-align: left;
          position: relative;
          margin-top: 0;

          .action-towishlist {
            margin-left: 14%;
            background-color: transparent;
            border: 2px solid @color-gray62;
            color: @color-brown;
            text-transform: uppercase;
            font-size: @font-size__s;
            font-weight: 500;
            border-radius: 0;
          }
          .action-edit {
            display: none;
          }
          &:extend(.abs-reset-left-margin-desktop all);
        }
      }
    }

    .action {
      margin-bottom: @indent__s;
    }
    .action.continue {
      display: block;
      border: 2px solid #aeaeae;
      margin: 0 auto;
      font-size: 14px;
      text-transform: uppercase;
      border-radius: 3px;
      padding: 10px 0;
      text-align: center;
      max-width: 300px;
    }
  }

  //  Products pager
  .cart-products-toolbar {
    .toolbar-amount {
      line-height: 30px;
      margin: 0;
    }

    .pages {
      float: right;
      margin: 0 0 1px;

      .item {
        &:last-child {
          margin-right: 0;
        }
      }
    }
  }

  .cart.table-wrapper {
    .cart-products-toolbar {
      + .cart {
        thead {
          tr {
            th.col {
              padding-bottom: 7px;
              padding-top: 8px;
            }
          }
        }
      }
    }

    .cart {
      + .cart-products-toolbar {
        margin-top: @indent__m;
      }
    }
  }
}


