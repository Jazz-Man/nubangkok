<?xml version="1.0"?>

<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <body>
        <referenceContainer name="sidebar.additional">
            <container name="left-sidebar-container" as="left-sidebar-container" label="Left sidebar container" htmlTag="div"
                       htmlClass="left-sidebar-container js-sticky-sidebar" before="-">
                <block class="Encomage\Theme\Block\Html\Page\Sidebar\Categories" name="sidebar_categories"
                       as="sidebar.categories"
                       template="Encomage_Theme::html/page/sidebar/categories.phtml" before="-"/>
                <block class="Magento\Framework\View\Element\Template" name="links_sidebar" as="links.sidebar"
                       template="Encomage_Theme::html/page/sidebar/links.phtml"/>
            </container>
        </referenceContainer>
        <referenceBlock name="navigation.sections">
            <block class="Magento\Framework\View\Element\Template" name="mobile.nav" group="navigation-sections"
                   template="Magento_Theme::html/container.phtml">
                <block class="Magento\Framework\View\Element\Template" name="mobile.nav.container"
                       template="Encomage_Theme::html/mobile/page/nav/container.phtml">
                    <block class="Magento\Framework\View\Element\Template" name="mobile.nav.search"
                           as="mobile.topSearch" template="Magento_Search::mobile/page/nav/form.mini.phtml" before="-"/>
                    <container name="mobile.nav.switch" as="mobile.nav.switch" label="Mobile nav switch" htmlTag="div"
                               htmlClass="mobile-nav-switch" after="mobile.nav.search">
                        <block class="Magento\Store\Block\Switcher" name="mobile.nav.switch.languages"
                               as="mobile.nav.switch.languages"
                               template="Magento_Store::mobile/page/nav/languages.phtml" before="-"/>
                        <block class="Magento\Directory\Block\Currency" name="mobile.nav.switch.currency"
                               as="mobile.nav.switch.currency"
                               template="Magento_Directory::mobile/page/nav/currency.phtml"
                               after="mobile.nav.switch.languages"/>
                    </container>

                    <block class="Encomage\Theme\Block\Html\Page\Sidebar\Categories" name="mobile.nav.categories"
                           template="Encomage_Theme::html/page/sidebar/categories.phtml" ttl="3600"
                           after="mobile.nav.switch"/>
                    <block class="Magento\Framework\View\Element\Template" name="mobile_links_sidebar" as="mobile.links.sidebar"
                           template="Encomage_Theme::html/page/sidebar/links.phtml"/>
                </block>
            </block>
        </referenceBlock>
        <referenceBlock name="store.links" remove="true"/>
        <referenceBlock name="store.settings" remove="true"/>
        <referenceBlock name="store.menu" remove="true"/>
    </body>
</page>
